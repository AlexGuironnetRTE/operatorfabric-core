<!-- Copyright (c) 2020, RTE (http://www.rte-france.com)                 -->
<!--                                                                     -->
<!-- This Source Code Form is subject to the terms of the Mozilla Public -->
<!-- License, v. 2.0. If a copy of the MPL was not distributed with this -->
<!-- file, You can obtain one at http://mozilla.org/MPL/2.0/.            -->


    <ng-template #filterTypeContent>
        <form [formGroup]="typeFilterForm" id="type-filter-form">
            <div class="form-group form-check">
                <input type="checkbox" id="type-alarm" class="form-check-input" formControlName="alarm">
                <em class="fas fa-circle text-sev-alarm"></em>
                <label for="type-alarm" class="form-check-label" translate>feed.filters.type.alarm.label</label>
            </div>
            <div class="form-group form-check">
                <input type="checkbox" id="type-action" class="form-check-input" formControlName="action">
                <em class="fas fa-circle text-sev-action"></em>
                <label for="type-action" class="form-check-label" translate>feed.filters.type.action.label</label>
            </div>
            <div class="form-group form-check">
                <input type="checkbox" id="type-compliant" class="form-check-input" formControlName="compliant">
                <em class="fas fa-circle text-sev-compliant"></em>
                <label for="type-compliant" class="form-check-label" translate>feed.filters.type.compliant.label</label>
            </div>
            <div class="form-group form-check">
                <input type="checkbox" id="type-information" class="form-check-input" formControlName="information">
                <em class="fas fa-circle text-sev-information"></em>
                <label for="type-information" class="form-check-label" translate>feed.filters.type.information.label</label>
            </div>
        </form>
    </ng-template>
    <ng-template #filterTypeTitle><span translate>feed.filters.type.title</span></ng-template>
    <button type="button" class="btn btn-outline-secondary p-1 mr-1 border-0" placement="right"
            [ngbPopover]="filterTypeContent" [popoverTitle]="filterTypeTitle" container="body"
            [autoClose]="'outside'">
        <div class="type-selections">
            <div class="type-row">
                <div class="type-cell" [class.bg-sev-alarm]="!(filter$|async).active || (filter$|async).status.alarm"></div>
                <div class="type-cell" [class.bg-sev-action]="!(filter$|async).active || (filter$|async).status.action"></div>
            </div>
            <div class="type-row">
                <div class="type-cell" [class.bg-sev-compliant]="!(filter$|async).active || (filter$|async).status.compliant"></div>
                <div class="type-cell" [class.bg-sev-information]="!(filter$|async).active || (filter$|async).status.information"></div>
            </div>
        </div>
    </button>

