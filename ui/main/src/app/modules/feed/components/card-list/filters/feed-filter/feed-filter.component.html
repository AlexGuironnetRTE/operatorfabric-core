<!-- Copyright (c) 2018-2020, RTE (http://www.rte-france.com)              -->
<!-- See AUTHORS.txt                                                       -->
<!-- This Source Code Form is subject to the terms of the Mozilla Public   -->
<!-- License, v. 2.0. If a copy of the MPL was not distributed with this   -->
<!-- file, You can obtain one at http://mozilla.org/MPL/2.0/.              -->
<!-- SPDX-License-Identifier: MPL-2.0                                      -->
<!-- This file is part of the OperatorFabric project.                      -->



<ng-template #filterTypeContent>



    <div class="row filter-header">
        <span translate>feed.filters.type.title</span>
    </div>
    <form [formGroup]="typeFilterForm" id="type-filter-form">

        <label class="opfab-checkbox "> <span class="label-sev-alarm" translate> feed.filters.type.alarm.label </span>
            <input id="opfab-feed-filter-severity-alarm" type="checkbox" formControlName="alarm" >
            <span class="opfab-checkmark"></span>
        </label>


        <label class="opfab-checkbox "> <span class="label-sev-action" translate> feed.filters.type.action.label </span>
            <input id="opfab-feed-filter-severity-action" type="checkbox" formControlName="action" >
            <span class="opfab-checkmark"></span>
        </label>


        <label class="opfab-checkbox "> <span class="label-sev-compliant" translate> feed.filters.type.compliant.label </span>
            <input id="opfab-feed-filter-severity-compliant" type="checkbox" formControlName="compliant" >
            <span class="opfab-checkmark"></span>
        </label>


        <label class="opfab-checkbox "> <span class="label-sev-information" translate> feed.filters.type.information.label </span>
            <input id="opfab-feed-filter-severity-information" type="checkbox" formControlName="information" >
            <span class="opfab-checkmark"></span>
        </label>

    </form>
    <div *ngIf="!(hideAckFilter)">
        <div class="row filter-header">
            <span translate>feed.filters.ack.title</span>
        </div>
        <form [formGroup]="ackFilterForm" id="ack-filter-form">
            <div class="form-group form-check">
                <input type="radio" id="opfab-feed-filter-ack-all" class="form-check-input" formControlName="ackControl" value="all">
                &nbsp;
                <label for="ack-all" class="form-check-label" translate>feed.filters.ack.all.label</label>
            </div>
            <div class="form-group form-check">
                <input type="radio" id="opfab-feed-filter-ack-ack" class="form-check-input" formControlName="ackControl" value="ack">
                &nbsp;
                <label for="ack-ack" class="form-check-label" translate>feed.filters.ack.acknowledged.label</label>
            </div>
            <div class="form-group form-check">
                <input type="radio" id="opfab-feed-filter-ack-notack" class="form-check-input" formControlName="ackControl"
                    value="notack">
                &nbsp;
                <label for="ack-notack" class="form-check-label"
                    translate>feed.filters.ack.notacknowledged.label</label>
            </div>

        </form>
    </div>
    
    <div *ngIf="!(hideTimerTags)" style="width:300px">

        <div class="row filter-header" *ngIf="filterByPublishDate">
            <span translate>feed.filters.time.titleIfFilterBasedOnPublishDate</span>
        </div>
        <div class="row filter-header" *ngIf="!filterByPublishDate">
            <span translate>feed.filters.time.titleIfFilterBasedOnBusinessDate</span>
        </div>

        <form class="opfab-form-lighter" [formGroup]="timeFilterForm" id="time-filter-form">

            <div style="margin-left: 2px; margin-right: 2px;margin-top:-10px;width:250px">
                <div class="form-group" id="start">
                    <of-datetime-filter id="opfab-feed-filter-dateTimeFrom"  (change)="onDateTimeChange($event)" filterPath="start.label" formControlName="dateTimeFrom"
                        labelKey="feed.filters.time."></of-datetime-filter>
                </div>
            </div>

            <div style="margin-left: 2px; margin-right: 2px;margin-top:-20px;;width:250px">
                <div class="form-group" id="end">
                    <of-datetime-filter id="opfab-feed-filter-dateTimeTo" filterPath="end.label" formControlName="dateTimeTo"
                        labelKey="feed.filters.time." (change)="onDateTimeChange($event)"></of-datetime-filter>
                </div>

            </div>
        </form>
    </div>
</ng-template>





<ng-template #filterTypeTitle><span translate>feed.filters.type.title</span></ng-template>


<div class="opfab-icon-bg-color">
    <div id="opfab-feed-filter-btn-filter" class="opfab-icon-filter" placement="bottom-left" [ngbPopover]="filterTypeContent"
        container="body" [autoClose]="'outside'">
    </div>
</div>