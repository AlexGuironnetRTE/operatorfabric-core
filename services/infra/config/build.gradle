dependencies {
    compile cloud.starterConfigServer, cloud.starterStream, cloud.configMonitor
    compile cloud.eurekaClient
}

configurations {
    compile.exclude module: "spring-cloud-starter-config"
}

bootJar {
    manifest {
        attributes("Created-By"          : "Gradle ${gradle.gradleVersion}",
                "Specification-Title"    : "OperatorFabric Centralized configuration",
                "Implementation-Title"   : "OperatorFabric Centralized configuration",
                "Implementation-Version" : operatorfabric.version,
                "Specification-Version"  : operatorfabric.version
        )
    }
}


task createDevData(type: Copy){
    description 'prepare data in build/test-data for running bootRun task during development'
    from 'src/main/docker/volume/'
    into 'build/dev-data/'
    doFirst{
        logger.info "copying src/main/docker/volume/* to build/dev-data"
    }
}

tasks.bootRun.dependsOn createDevData
